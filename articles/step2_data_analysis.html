<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>2 - Data Analysis • swaRmverse</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="2 - Data Analysis">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">swaRmverse</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/step1_data_preparation.html">1 - Data Preparation</a></li>
    <li><a class="dropdown-item" href="../articles/step2_data_analysis.html">2 - Data Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/step3_swarm_space.html">3 - The Swarm-Verse</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/marinapapa/swaRmverse/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>2 - Data Analysis</h1>
                        <h4 data-toc-skip class="author">Marina
Papadopoulou</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/marinapapa/swaRmverse/blob/v0.1.1/vignettes/step2_data_analysis.Rmd" class="external-link"><code>vignettes/step2_data_analysis.Rmd</code></a></small>
      <div class="d-none name"><code>step2_data_analysis.Rmd</code></div>
    </div>

    
    
<p><code>swaRverse</code> provides a pipeline to extract metrics of
collective motion from grouping individuals trajectories. Metrics
include either global (group-level) or pairwise (individual-level)
characteristics of the group. After calculating the timeseries of these
metrics, the package estimates their averages over each ‘event’ of
collective motion. More details about how an event is defined is given
below. Let’s start with ..</p>
<div class="section level2">
<h2 id="velocity-estimations">2.1 Velocity estimations<a class="anchor" aria-label="anchor" href="#velocity-estimations"></a>
</h2>
<p>We start by adding headings and speeds to the trajectory data, and
splitting the whole dataframe into a list of dataframes, one per set.
For this, we need to specify whether the data correspond to geo data
(lon-lat) or not.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://marinapapa.github.io/swaRmverse/">swaRmverse</a></span><span class="op">)</span></span>
<span><span class="co">#data_df &lt;- trackdf::tracks</span></span>
<span><span class="co">#raw$set &lt;- c(rep('ctx1', nrow(raw)/2 ), rep('ctx2', nrow(raw)/2))</span></span>
<span><span class="va">raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/video/01.csv"</span>, package <span class="op">=</span> <span class="st">"trackdf"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">raw</span> <span class="op">&lt;-</span> <span class="va">raw</span><span class="op">[</span><span class="op">!</span><span class="va">raw</span><span class="op">$</span><span class="va">ignore</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co">## Add fake context</span></span>
<span><span class="va">raw</span><span class="op">$</span><span class="va">context</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"ctx1"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">raw</span><span class="op">)</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"ctx2"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">raw</span><span class="op">)</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_data_format.html">set_data_format</a></span><span class="op">(</span>raw_x <span class="op">=</span> <span class="va">raw</span><span class="op">$</span><span class="va">x</span>,</span>
<span>                          raw_y <span class="op">=</span> <span class="va">raw</span><span class="op">$</span><span class="va">y</span>,</span>
<span>                          raw_t <span class="op">=</span> <span class="va">raw</span><span class="op">$</span><span class="va">frame</span>,</span>
<span>                          raw_id <span class="op">=</span> <span class="va">raw</span><span class="op">$</span><span class="va">id</span>,</span>
<span>                          origin <span class="op">=</span> <span class="st">"2020-02-1 12:00:21"</span>,</span>
<span>                          period <span class="op">=</span> <span class="st">"0.04S"</span>,</span>
<span>                          tz <span class="op">=</span> <span class="st">"America/New_York"</span>,</span>
<span>                          raw_context <span class="op">=</span> <span class="va">raw</span><span class="op">$</span><span class="va">context</span></span>
<span>                          <span class="op">)</span></span>
<span></span>
<span><span class="va">is_geo</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></span>
<span><span class="va">data_dfs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_velocities.html">add_velocities</a></span><span class="op">(</span><span class="va">data_df</span>,</span>
<span>                           geo <span class="op">=</span> <span class="va">is_geo</span>,</span>
<span>                           verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                           parallelize <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>                           <span class="op">)</span> <span class="co">## A list of dataframes</span></span></code></pre></div>
<pre><code><span><span class="co">## Adding velocity info to every set of the dataset..</span></span></code></pre>
<pre><code><span><span class="co">## Done!</span></span></code></pre>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#head(data_dfs[[1]])</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Velocity information added for"</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">data_dfs</span><span class="op">)</span>, <span class="st">"sets."</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Velocity information added for 2 sets."</span></span></code></pre>
<p>If there is a high number of sets in the dataset, the parallelization
of the function can be turned on (setting <em>parallelize</em> argument
to TRUE). This is not recommended for small to intermediate data
sizes.</p>
</div>
<div class="section level2">
<h2 id="group-characteristics">2.2 Group characteristics<a class="anchor" aria-label="anchor" href="#group-characteristics"></a>
</h2>
<p>Based on the list of positional data and calculated velocities, we
can now calculate the timeseries of group polarization, average speed,
and shape. As a proxy for group shape we use the angle between the
object-oriented bounding box that includes the position of all group
members and the average heading of the group. Small angles close to 0
rads represent oblong groups, while large angles close to pi/2 rads wide
groups. The <em>group_metrics</em> function calculates the timeseries of
each measurement across sets. To reduce noise, the function further
calculates the smoothed timeseries of speed and polarization over a
given time window (using a moving average).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sampling_timestep</span> <span class="op">&lt;-</span> <span class="fl">0.04</span></span>
<span><span class="va">time_window</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="co"># seconds</span></span>
<span><span class="va">smoothing_time_window</span> <span class="op">&lt;-</span> <span class="va">time_window</span> <span class="op">/</span> <span class="va">sampling_timestep</span></span>
<span></span>
<span><span class="va">g_metr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/group_metrics_per_set.html">group_metrics_per_set</a></span><span class="op">(</span>data_list <span class="op">=</span> <span class="va">data_dfs</span>,</span>
<span>                               mov_av_time_window <span class="op">=</span> <span class="va">smoothing_time_window</span>,</span>
<span>                               step2time <span class="op">=</span> <span class="va">sampling_timestep</span>,</span>
<span>                               geo <span class="op">=</span> <span class="va">is_geo</span>,</span>
<span>                               parallelize <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>                               <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">g_metr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##      set                  t                               pol         </span></span>
<span><span class="co">##  Length:2802        Min.   :2020-02-01 12:00:21.03   Min.   :0.01027  </span></span>
<span><span class="co">##  Class :character   1st Qu.:2020-02-01 12:00:49.04   1st Qu.:0.20701  </span></span>
<span><span class="co">##  Mode  :character   Median :2020-02-01 12:01:17.05   Median :0.32532  </span></span>
<span><span class="co">##                     Mean   :2020-02-01 12:01:17.03   Mean   :0.33785  </span></span>
<span><span class="co">##                     3rd Qu.:2020-02-01 12:01:45.02   3rd Qu.:0.44768  </span></span>
<span><span class="co">##                     Max.   :2020-02-01 12:02:13.03   Max.   :0.97476  </span></span>
<span><span class="co">##                                                      NA's   :2        </span></span>
<span><span class="co">##      speed              shape                 N          missing_ind    </span></span>
<span><span class="co">##  Min.   :   35.42   Min.   :0.0002811   Min.   :3.000   Min.   :0.0000  </span></span>
<span><span class="co">##  1st Qu.:  132.02   1st Qu.:0.4236876   1st Qu.:7.000   1st Qu.:0.0000  </span></span>
<span><span class="co">##  Median :  175.98   Median :0.8327600   Median :7.000   Median :1.0000  </span></span>
<span><span class="co">##  Mean   :  742.80   Mean   :0.8127599   Mean   :7.291   Mean   :0.5543  </span></span>
<span><span class="co">##  3rd Qu.:  243.84   3rd Qu.:1.1974449   3rd Qu.:8.000   3rd Qu.:1.0000  </span></span>
<span><span class="co">##  Max.   :12232.96   Max.   :1.5706044   Max.   :9.000   Max.   :5.0000  </span></span>
<span><span class="co">##  NA's   :2          NA's   :2                           NA's   :2       </span></span>
<span><span class="co">##     speed_av          pol_av      </span></span>
<span><span class="co">##  Min.   : 111.5   Min.   :0.1696  </span></span>
<span><span class="co">##  1st Qu.: 426.3   1st Qu.:0.2852  </span></span>
<span><span class="co">##  Median : 670.1   Median :0.3259  </span></span>
<span><span class="co">##  Mean   : 746.7   Mean   :0.3379  </span></span>
<span><span class="co">##  3rd Qu.:1005.7   3rd Qu.:0.3812  </span></span>
<span><span class="co">##  Max.   :2241.2   Max.   :0.5599  </span></span>
<span><span class="co">##  NA's   :50       NA's   :50</span></span></code></pre>
<p>As before, one can parallelize the function if the data are from many
different days/sets. A column of N and missing_ind are added to the
dataframe, showing the group size of that time point and whether an
individual has NA data.</p>
</div>
<div class="section level2">
<h2 id="pairwise-measurements">2.3 Pairwise measurements<a class="anchor" aria-label="anchor" href="#pairwise-measurements"></a>
</h2>
<p>From the timeseries of positions and velocities, we can calculate
information concerning the nearest neighbor of each group member. Here
we estimate the distance and the bearing angle (angle between the focal
individual’s heading and its neighbor) to the nearest neighbor of each
individual. These, along with the id of the nearest neighbor, are added
as columns to the positional timeseries dataframe:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pairwise_metrics.html">pairwise_metrics</a></span><span class="op">(</span>data_list <span class="op">=</span> <span class="va">data_dfs</span>,</span>
<span>                            geo <span class="op">=</span> <span class="va">is_geo</span>,</span>
<span>                            verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                            parallelize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                            add_coords <span class="op">=</span> <span class="cn">FALSE</span> <span class="co"># could be set to TRUE if the relative positions of neighbors are needed </span></span>
<span>                            <span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Pairwise analysis started..</span></span></code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#tail(data_df)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="metrics-of-collective-motion">2.4 Metrics of collective motion<a class="anchor" aria-label="anchor" href="#metrics-of-collective-motion"></a>
</h2>
<p>Based on the global and local measurements, we then calculate a
series of metrics that aim to capture the dynamics of the collective
motion of the group. These metrics are calculated over parts of the
trajectories that the group is performing coordinated collective motion,
when the group is moving (average speed is higher than a given
threshold) and is somewhat polarized (polarization higher than a given
threshold). These parts are defined as ‘events’. The thresholds are
asked by the user in run time if ‘interactive_mode’ is activated, after
printing the quantiles of average speed and polarization across all
data. Otherwise, the thresholds (pol_lim and speed_lim) should be given
as inputs. If both limits are set to 0, a set will be taken as a
complete event. The time between observation is needed as input to
distinguish between continuous events. When the group and pairwise
timeseries are calculated, one can calculate the metrics per event:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">### Interactive mode, if the limits of speed and polarization are unknown</span></span>
<span><span class="co"># new_species_metrics &lt;- col_motion_metrics(data_df,</span></span>
<span><span class="co">#                                            global_metrics = g_metr,</span></span>
<span><span class="co">#                                            step2time = sampling_timestep,</span></span>
<span><span class="co">#                                            verbose = TRUE,</span></span>
<span><span class="co">#                                            speed_lim = NA,</span></span>
<span><span class="co">#                                            pol_lim = NA</span></span>
<span><span class="co">#                                             </span></span>
<span><span class="co"># )</span></span>
<span></span>
<span><span class="va">new_species_metrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/col_motion_metrics.html">col_motion_metrics</a></span><span class="op">(</span><span class="va">data_df</span>,</span>
<span>                                           global_metrics <span class="op">=</span> <span class="va">g_metr</span>,</span>
<span>                                           step2time <span class="op">=</span> <span class="va">sampling_timestep</span>,</span>
<span>                                           verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                           speed_lim <span class="op">=</span> <span class="fl">150</span>,</span>
<span>                                           pol_lim <span class="op">=</span> <span class="fl">0.3</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># summary(new_species_metrics)</span></span></code></pre></div>
<p>The number of events and their total duration given the input
thresholds is also printed. If we are not interested in inspecting the
timeseries of the measurements, on can calculate the metrics directly
from the formatted dataset:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_species_metrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/col_motion_metrics_from_raw.html">col_motion_metrics_from_raw</a></span><span class="op">(</span><span class="va">data_df</span>,</span>
<span>                                mov_av_time_window <span class="op">=</span> <span class="va">smoothing_time_window</span>,</span>
<span>                                step2time <span class="op">=</span> <span class="va">sampling_timestep</span>,</span>
<span>                                geo <span class="op">=</span> <span class="va">is_geo</span>,</span>
<span>                                verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                speed_lim <span class="op">=</span> <span class="fl">150</span>,</span>
<span>                                pol_lim <span class="op">=</span> <span class="fl">0.3</span>,</span>
<span>                                parallelize_all <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>                                <span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Adding velocity info to every set of the dataset..</span></span></code></pre>
<pre><code><span><span class="co">## Done!</span></span></code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># summary(new_species_metrics)</span></span></code></pre></div>
<p>Since we are interested in comparing different datasets across
species or contexts, a new species id column should be added:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_species_metrics</span><span class="op">$</span><span class="va">species</span> <span class="op">&lt;-</span> <span class="st">"new_species_1"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">new_species_metrics</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   event N             set          start_time mean_mean_nnd mean_sd_nnd</span></span>
<span><span class="co">## 1     1 8 2020-02-01_ctx1 2020-02-01 12:00:21      260.5298   196.39392</span></span>
<span><span class="co">## 2     2 8 2020-02-01_ctx1 2020-02-01 12:00:23      194.2149   125.30859</span></span>
<span><span class="co">## 3     3 7 2020-02-01_ctx1 2020-02-01 12:00:25      178.0867    70.25351</span></span>
<span><span class="co">## 4     4 8 2020-02-01_ctx1 2020-02-01 12:00:26      214.7076    68.20413</span></span>
<span><span class="co">## 5     5 8 2020-02-01_ctx1 2020-02-01 12:00:27      156.2709   132.57649</span></span>
<span><span class="co">## 6     6 7 2020-02-01_ctx1 2020-02-01 12:00:28      159.9396    97.68897</span></span>
<span><span class="co">##   sd_mean_nnd  mean_pol    sd_pol  cv_speed mean_sd_front mean_mean_bangl</span></span>
<span><span class="co">## 1    3.779780 0.3334596 0.1445072 1.8472052     0.2927575        1.585528</span></span>
<span><span class="co">## 2   29.110134 0.3260762 0.1675038 1.6394169     0.2781643        1.222012</span></span>
<span><span class="co">## 3   25.204944 0.3260333 0.2012695 1.8615297     0.3184363        1.807799</span></span>
<span><span class="co">## 4          NA 0.4152229        NA        NA     0.2949830        1.495182</span></span>
<span><span class="co">## 5    4.245226 0.2857535 0.1470665 0.9509542     0.2441024        1.513099</span></span>
<span><span class="co">## 6   26.605974 0.3996904 0.1786352 1.9967636     0.2936794        1.691812</span></span>
<span><span class="co">##   mean_shape  sd_shape event_dur       species</span></span>
<span><span class="co">## 1  0.7726862 0.4708161      1.28 new_species_1</span></span>
<span><span class="co">## 2  0.7073765 0.3808718      1.12 new_species_1</span></span>
<span><span class="co">## 3  0.9843532 0.4146392      1.08 new_species_1</span></span>
<span><span class="co">## 4  1.1002695        NA      0.04 new_species_1</span></span>
<span><span class="co">## 5  1.0568951 0.3726853      0.32 new_species_1</span></span>
<span><span class="co">## 6  0.9988084 0.3790848      7.80 new_species_1</span></span></code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Un-comment bellow to save the output in order to combine it with other datasets (replace 'path2file' with appropriate local path and name).</span></span>
<span><span class="co"># write.csv(new_species_metrics, file = path2file.csv, row.names = FALSE) # OR R object</span></span>
<span><span class="co"># save(new_species_metrics, file = path2file.rda) </span></span></code></pre></div>
<p>The duration, starting time and group size (N) of each event are also
added to the result dataframe. We suggest filtering out events of very
small duration and with less than 3 individuals (singletons and pairs).
The calculated metrics are:</p>
<ul>
<li>
<em>mean_mean_nnd</em>: the temporal average of the group’s average
nearest neighbor distance</li>
<li>
<em>mean_sd_nnd</em>: the temporal average of the group’s standard
deviation in nearest neighbor distance</li>
<li>
<em>sd_mean_nnd</em>: the temporal standard deviation of the group’s
average nearest neighbor distance<br>
</li>
<li>
<em>mean_pol</em>: the average of the group’s polarization during
the event</li>
<li>
<em>sd_pol</em>: the standard deviation of the group’s polarization
during the event</li>
<li>
<em>cv_speed</em>: the CV (coefficient of variation) of the group’s
average speed during the event</li>
<li>
<em>mean_sd_front</em>: the average standard deviation of the
individuals’ frontness to their nearest neighbor during an event</li>
<li>
<em>mean_mean_bangl</em>: the temporal average of the group’s
average angle</li>
<li>
<em>mean_shape</em>: the average shape index of the group during an
event (0= perfectly wide and 1= perfectly long relative to the heading
direction)</li>
<li>
<em>sd_mean_shape</em>: the standard deviation of the group’s
average shape index during an event.</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.marinapapadopoulou.com" class="external-link">Marina Papadopoulou</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
